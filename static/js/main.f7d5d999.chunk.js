(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(46)},,,,,function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),i=n.n(c),o=(n(22),n(23),n(4)),u=n(1),l=n(3),s=n(7),m=function(e){return e.y},f=function(e){return e.x},p=function(e){switch(e.direction){case"NORTH":return{direction:"EAST",rotation:.75};case"EAST":return{direction:"SOUTH",rotation:0};case"WEST":return{direction:"NORTH",rotation:.5};case"SOUTH":return{direction:"WEST",rotation:.25};default:return{direction:"SOUTH",rotation:0}}},E=function(e,t){switch(t.direction){case"NORTH":return Object(u.a)({},e,{y:e.y-1});case"EAST":return Object(u.a)({},e,{x:e.x+1});case"WEST":return Object(u.a)({},e,{x:e.x-1});case"SOUTH":return Object(u.a)({},e,{y:e.y+1});default:return{y:-1,x:-1}}},d=function(e,t,n){return v(E(e,t),n)},v=function(e,t){return e.x===t.x&&e.y===t.y},y=function(e){switch(e.direction){case"NORTH":return{direction:"SOUTH",rotation:0};case"EAST":return{direction:"WEST",rotation:.25};case"WEST":return{direction:"EAST",rotation:.75};case"SOUTH":return{direction:"NORTH",rotation:.5};default:return}},O=n(6);var T=function(e){var t=Array(e).fill().map(function(t,n){return{y:n,column:Array(e).fill().map(function(e,t){return{x:t}})}}).reduce(function(e,t){return e[t.y]=t.column.reduce(function(e,n){return e[n.x]=w(function(e,t){return{y:e,x:t}}(t.y,n.x),h),e},{}),e},{});return Object(u.a)({},t,{rows:e,columns:e,totalSells:0,actionSelected:{}})},_=function(e,t){return b(e,function(t){return w(e,h)},t)};function N(e,t){return t[m(e)]?t[m(e)][f(e)]:void 0}function b(e,t,n){var r=N(e,n);return Object(u.a)({},n,Object(O.a)({},m(e),Object(u.a)({},n[m(e)],Object(O.a)({},f(e),t(r)))))}var S="ADD_MACHINE_ACTION",C="STARTER_MACHINE",h="NONE_MACHINE",A="TRANSPORTER_MACHINE",I="FURNACE_MACHINE",g="SELLER_MACHINE",j="CRAFTER_MACHINE",w=function(e,t){switch(t){case C:return function(e){return{type:C,props:{position:e,active:!1,direction:{direction:"SOUTH",rotation:0}}}}(e);case A:return function(e){return{type:A,props:{position:e,active:!1,direction:{direction:"SOUTH",rotation:0},materials:[]}}}(e);case I:return function(e){return{type:I,props:{position:e,active:!1,direction:{direction:"SOUTH",rotation:0},materials:[]}}}(e);case g:return function(e){return{type:g,props:{position:e,active:!1,direction:{direction:"SOUTH",rotation:0},materials:[]}}}(e);case j:return function(e){return{type:j,props:{position:e,active:!1,direction:{direction:"SOUTH",rotation:0},materials:[]}}}(e);default:return function(e){return{type:h,props:{position:e,materialCount:0}}}(e)}},R=function(e,t){var n=N(t,e);switch(n.type){case C:return P(e,n);case A:return U(e,n);case I:return F(e,n);case g:return H(e,n);case j:return L(e,n);default:return[]}},M=function(e,t,n,r){var a=E(t.props.position,t.props.direction);return x(e,n,a)?[].concat(Object(l.a)(r),[{type:X,action:function(e){return W(N(a,e),n,t.props.position)},position:a}]):r},k=function(e,t){return[].concat(Object(l.a)(t),[{type:$,action:function(t){return function(e,t){return Object(u.a)({},t,{totalSells:t.totalSells+e})}(e,t)}}])},H=function(e,t){var n=t.props.materials.map(function(e){return function(e){return e.price}(e)}).reduce(function(e,t){return e+t},0),r=[];return r=D(t,r),r=k(n,r)},F=function(e,t){var n=function(e){return e.map(function(e){return Object(u.a)({},e,{state:"LIQUID",price:2*e.price})},e)}(t.props.materials),r=[];return r=M(e,t,n,r),r=D(t,r)},U=function(e,t){var n=t.props.materials,r=[];return r=M(e,t,n,r),r=D(t,r)},L=function(e,t){var n=t.props.materials,r=[];return r=M(e,t,n,r),r=D(t,r)},D=function(e,t){var n=Object(u.a)({},e,{props:Object(u.a)({},e.props,{materials:[],active:!1})});return[].concat(Object(l.a)(t),[{type:Z,action:function(){return n},position:e.props.position}])},P=function(e,t){return M(e,t,t.props.material?[t.props.material]:[],[])},x=function(e,t,n){return t&&t.length>0&&N(n,e)},G=function(e){return Object(u.a)({},e,{props:Object(u.a)({},e.props,{direction:p(e.props.direction)})})},W=function(e,t,n){switch(e.type){case h:return K(e,t);case A:return Y(e,t,n);case C:return z(e,t);case I:return B(e,t,n);case g:return V(e,t,n);case j:return J(e,t,n);default:return e}},z=function(e,t){return Object(u.a)({},e,{props:Object(u.a)({},e.props,{material:t})})},B=function(e,t,n){return d(e.props.position,y(e.props.direction),n)?Object(u.a)({},e,{props:Object(u.a)({},e.props,{materials:[].concat(Object(l.a)(e.props.materials),Object(l.a)(t)),active:!0})}):e},V=function(e,t,n){return r=e.props.position,d(r,{direction:"NORTH",rotation:.5},a=n)||d(r,{direction:"SOUTH",rotation:0},a)||d(r,{direction:"WEST",rotation:.25},a)||d(r,{direction:"EAST",rotation:.75},a)?Object(u.a)({},e,{props:Object(u.a)({},e.props,{materials:[].concat(Object(l.a)(e.props.materials),Object(l.a)(t)),active:!0})}):e;var r,a},Y=function(e,t,n){return d(e.props.position,e.props.direction,n)?e:Object(u.a)({},e,{props:Object(u.a)({},e.props,{materials:[].concat(Object(l.a)(e.props.materials),Object(l.a)(t)),active:!0})})},J=function(e,t,n){return d(e.props.position,y(e.props.direction),n)?Object(u.a)({},e,{props:Object(u.a)({},e.props,{materials:[].concat(Object(l.a)(e.props.materials),Object(l.a)(t)),active:!0})}):e},K=function(e,t){return Object(u.a)({},e,{props:Object(u.a)({},e.props,{materialCount:e.props.materialCount+t.length})})},X="MATERIAL_ADDITION",Z="MATERIAL_DELETION",$="SELLS",q=function(e){return{type:"FACTORY_SELECTED",factory:e}},Q=function(){return function(e,t){if(!t().factory.timer){var n=setInterval(function(){e(function(e,t){e(re(ne(t().factory)))}),e(function(e,t){var n=t().factory,r=n.name,a=n.id,c=Object(s.a)(n,["name","id"]);fetch("http://localhost:3000/api/save",{method:"POST",body:JSON.stringify({name:r,id:a,board:c}),headers:{"Content-Type":"application/json"}}).catch(function(e){console.log(e)})})},5e3);e(ee(n))}}},ee=function(e){return{type:"SET_TICK_TIMER",timer:e}},te=function(e,t){e.name,e.id,e.rows,e.columns,e.totalSells,e.actionSelected;var n=Object(s.a)(e,["name","id","rows","columns","totalSells","actionSelected"]);return Object.keys(n).map(function(e){return Object.keys(n[e]).filter(function(r){return a=n[e][r],c=t,a.type===c;var a,c}).map(function(t){return{y:e,x:t}})}).flat()},ne=function(e){var t=te(e,C),n=te(e,A),r=te(e,I),a=te(e,g),c=te(e,j);return[].concat(Object(l.a)(a),Object(l.a)(r),Object(l.a)(n),Object(l.a)(t),Object(l.a)(c))},re=function(e){return{type:"TICK",machines:e}},ae="SELECT_ACTION",ce=function(){return{type:ae,machineType:void 0,actionType:void 0}},ie=function(e){return function(t,n){var r=n().factory.actionSelected,a=r.machineType,c=r.actionType;if(a&&c)switch(c){case S:t(function(e,t){return{type:"ADD_MACHINE",machineType:t,position:e}}(e,a)),t(ce());break;case"ROTATE_MACHINE_ACTION":t(function(e){return{type:"ROTATE",position:e}}(e)),t(ce());break;case"REMOVE_MACHINE_ACTION":t(function(e){return{type:"REMOVE_MACHINE",position:e}}(e)),t(ce());break;case"MOVE_MACHINE_ACTION":t(function(e){return{type:"MOVE_MACHINE",position:e}}(e))}}},oe=T(5),ue={visible:!1},le=function(e){return{type:"OPEN_RAW_MATERIAL",starterId:e}},se={selected:void 0},me=function(){return{type:"SIGN_IN"}},fe={user:"__NONE_USER__",enteredUser:void 0},pe={newFactoryName:void 0,newFactorySize:0,factories:[]},Ee=Object(o.c)({factory:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"RESET_FACTORY":return Object(u.a)({name:n.name,id:n.id},T(n.rows));case"MATERIAL_FOR_STARTER":return b(r.position,function(e){return function(e){return Object(u.a)({},e,{props:Object(u.a)({},e.props,{active:!0})})}(e)},function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return b(e,function(e){return W(e,t,r)},n)}(r.position,r.material,n));case"ADD_MACHINE":return e=r.position,t=r.machineType,b(e,function(n){return w(e,t)},n);case"ROTATE":return function(e,t){return b(e,function(e){return G(e)},t)}(r.position,n);case"REMOVE_MACHINE":return _(r.position,n);case"MOVE_MACHINE":return function(e,t){var n=N(e,t);return Object(u.a)({},_(e,t),{actionSelected:{machineType:n.type,actionType:S}})}(r.position,n);case"TICK":return function(e,t){var n=e.map(function(e){return R(t,e)}).flat(2),r=t;return r=n.filter(function(e){return e.type===$}).reduce(function(e,t){return t.action(e)},r),r=n.filter(function(e){return e.type===Z}).reduce(function(e,t){return b(t.position,function(e){return t.action()},e)},r),r=n.filter(function(e){return e.type===X}).reduce(function(e,t){return b(t.position,function(n){return t.action(e)},e)},r)}(r.machines,n);case"SET_TICK_TIMER":return Object(u.a)({},n,{timer:r.timer});case ae:return Object(u.a)({},n,{actionSelected:{machineType:r.machineType,actionType:r.actionType}});case"FACTORY_SELECTED":return clearTimeout(n.timer),Object(u.a)({},r.factory.board,{name:r.factory.name,id:r.factory._id,actionSelected:{},timer:void 0});default:return n}},rawMaterialPopUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;switch((arguments.length>1?arguments[1]:void 0).type){case"TOGGLE_RAW_MATERIAL_POPUP":return Object(u.a)({},e,{visible:!e.visible});default:return e}},rawMaterialSelector:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_RAW_MATERIAL":return Object(u.a)({},e,{selected:t.starterId});default:return e}},signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENTERED_USER_CHANGE":return Object(u.a)({},e,{enteredUser:t.enteredUser});case"SIGN_IN":return Object(u.a)({},e,{user:e.enteredUser,enteredUser:void 0});default:return e}},factorySelector:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FACTORY_NAME_CHANGED":return Object(u.a)({},e,{newFactoryName:t.factoryName});case"FACTORY_SIZE_CHANGE":return Object(u.a)({},e,{newFactorySize:t.factorySize});case"CREATE_FACTORY":return pe;case"SET_FACTORIES":return Object(u.a)({},e,{factories:t.factories});default:return e}}}),de=n(16),ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,ye=Object(o.e)(Ee,void 0,ve(Object(o.a)(de.a))),Oe=n(2),Te=(n(28),Object(Oe.b)(function(e){return{totalSells:e.factory.totalSells}},void 0)(function(e){var t=e.totalSells;return a.a.createElement("div",{className:"incomes-container"},"Ganancias ",a.a.createElement("span",{className:"incomes"},"$",t))})),_e=(n(29),n(30),function(e,t,n){return e?t:n}),Ne=function(e){return{transform:"rotate(".concat(e.rotation,"turn)")}},be=function(e){var t=e.active,n=e.direction,r=e.activeImg,c=e.inactiveImg;return a.a.createElement("img",{style:Ne(n),src:_e(t,r,c),alt:"machine"})},Se=function(e){var t=e.position,n=e.active,r=e.onClick,c=e.direction;return a.a.createElement("div",{className:"seller",onClick:function(){return r(t)}},a.a.createElement(be,{direction:c,activeImg:"icons/seller_active.svg",inactiveImg:"icons/seller.svg",active:n}))},Ce=Object(Oe.b)(void 0,function(e){return{onClick:function(t){e(ie(t))}}})(Se),he=(n(31),function(e){var t=e.position,n=e.active,r=e.onClick,c=e.direction;return a.a.createElement("div",{className:"furnace",onClick:function(){return r(t)}},a.a.createElement(be,{direction:c,activeImg:"icons/furnace_active.svg",inactiveImg:"icons/furnace.svg",active:n}))}),Ae=Object(Oe.b)(void 0,function(e){return{onClick:function(t){e(ie(t))}}})(he),Ie=(n(32),function(e){var t=e.position,n=e.active,r=e.onClick,c=e.direction;return a.a.createElement("div",{className:"crafter",onClick:function(){return r(t)}},a.a.createElement(be,{direction:c,activeImg:"icons/crafter_active.svg",inactiveImg:"icons/crafter.svg",active:n}))}),ge=Object(Oe.b)(void 0,function(e){return{onClick:function(t){e(ie(t))}}})(Ie),je=(n(33),function(e){var t=e.position,n=e.active,r=e.onClick,c=e.direction;return a.a.createElement("div",{className:"transporter",onClick:function(){return r(t)}},a.a.createElement(be,{direction:c,activeImg:"icons/transporter_active.svg",inactiveImg:"icons/transporter.svg",active:n}))}),we=Object(Oe.b)(void 0,function(e){return{onClick:function(t){e(ie(t))}}})(je),Re=function(e){var t=e.active,n=e.direction;return a.a.createElement("div",{className:"remove"},a.a.createElement(be,{active:t,direction:n,activeImg:"icons/eliminar_active.svg",inactiveImg:"icons/eliminar.svg"}))},Me=function(e){var t=e.active,n=e.direction;return a.a.createElement("div",{className:"move"},a.a.createElement(be,{active:t,direction:n,activeImg:"icons/mover_active.svg",inactiveImg:"icons/mover.svg"}))},ke=function(e){var t=e.active,n=e.direction;return a.a.createElement("div",{className:"rotate"},a.a.createElement(be,{active:t,direction:n,activeImg:"icons/rotar_active.svg",inactiveImg:"icons/rotar.svg"}))},He=(n(34),function(e){var t=e.position,n=e.active,r=e.selectRawMaterial,c=e.selectPosition,i=e.actionSelected,o=e.direction;return a.a.createElement("div",{className:"starter",onClick:function(){return function(e,t,n,r){r?n(e):t(e)}(t,r,c,i)}},a.a.createElement(be,{direction:o,activeImg:"icons/starter_active.svg",inactiveImg:"icons/starter.svg",active:n}))}),Fe=Object(Oe.b)(function(e){return{actionSelected:e.factory.actionSelected.actionType}},function(e){return{selectRawMaterial:function(t){return e((n=t,function(e){e({type:"TOGGLE_RAW_MATERIAL_POPUP"}),e(le(n))}));var n},selectPosition:function(t){return e(ie(t))}}})(He),Ue=(n(35),function(e){var t=e.className,n=e.children;return a.a.createElement("div",{className:"cell ".concat(t||"")},n)}),Le=(n(36),Object(Oe.b)(function(e){return{selectedMachineType:e.factory.actionSelected.machineType}},function(e){return{selectMachine:function(t){return e(function(e){return{type:ae,machineType:e,actionType:S}}(t))}}})(function(e){var t=e.machineType,n=e.children,r=e.selectMachine,c=e.selectedMachineType,i=t===c;return a.a.createElement("div",{onClick:function(){return r(t)},className:"add_machine ".concat(i?"add_machine_active":"")},n)})),De=(n(37),Object(Oe.b)(function(e){return{selectedActionType:e.factory.actionSelected.actionType}},function(e){return{selectAction:function(t){return e(function(e){return{type:ae,machineType:h,actionType:e}}(t))}}})(function(e){var t=e.actionType,n=e.children,r=e.selectAction,c=e.selectedActionType,i=t===c;return a.a.createElement("div",{onClick:function(){return r(t)},className:"action_machine ".concat(i?"action_machine_active":"")},n)})),Pe=function(){return a.a.createElement("div",{className:"toolbox-container"},a.a.createElement("div",{className:"title"},"M\xe1quinas"),a.a.createElement("div",{className:"toolbox-board"},a.a.createElement("div",{className:"row"},a.a.createElement(Ue,null,a.a.createElement(Le,{machineType:C},a.a.createElement(He,{direction:{direction:"SOUTH",rotation:0},selectRawMaterial:function(){}}))),a.a.createElement(Ue,null,a.a.createElement(Le,{machineType:g},a.a.createElement(Se,{direction:{direction:"SOUTH",rotation:0},onClick:function(){}})))),a.a.createElement("div",{className:"row"},a.a.createElement(Ue,null,a.a.createElement(Le,{machineType:I},a.a.createElement(he,{direction:{direction:"SOUTH",rotation:0},onClick:function(){}}))),a.a.createElement(Ue,null,a.a.createElement(Le,{machineType:j},a.a.createElement(Ie,{direction:{direction:"SOUTH",rotation:0},onClick:function(){}})))),a.a.createElement("div",{className:"row"},a.a.createElement(Ue,null,a.a.createElement(Le,{machineType:A},a.a.createElement(je,{direction:{direction:"SOUTH",rotation:0},onClick:function(){}}))),a.a.createElement(Ue,null))),a.a.createElement("div",{className:"title"},"Edici\xf3n"),a.a.createElement("div",{className:"toolbox-board"},a.a.createElement("div",{className:"row"},a.a.createElement(Ue,null,a.a.createElement(De,{actionType:"REMOVE_MACHINE_ACTION"},a.a.createElement(Re,{direction:{direction:"SOUTH",rotation:0}}))),a.a.createElement(Ue,null,a.a.createElement(De,{actionType:"MOVE_MACHINE_ACTION"},a.a.createElement(Me,{direction:{direction:"SOUTH",rotation:0}})))),a.a.createElement("div",{className:"row"},a.a.createElement(Ue,null,a.a.createElement(De,{actionType:"ROTATE_MACHINE_ACTION"},a.a.createElement(ke,{direction:{direction:"SOUTH",rotation:0}}))),a.a.createElement(Ue,null))))},xe=(n(38),Object(Oe.b)(void 0,function(e){return{onClick:function(t){return e(ie(t))}}})(function(e){var t=e.position,n=e.materialCount,r=e.onClick;return a.a.createElement("div",{className:"none_machine",onClick:function(){return r(t)}},n<=0?a.a.createElement("span",null):a.a.createElement("span",null,n))}));var Ge=function(e){var t=e.machine,n=t.props.position;return a.a.createElement("div",{style:{width:"100%",height:"100%"},position:"".concat(m(n)).concat(f(n))},function(e){switch(e.type){case C:return a.a.createElement(Fe,e.props);case A:return a.a.createElement(we,e.props);case I:return a.a.createElement(Ae,e.props);case g:return a.a.createElement(Ce,e.props);case j:return a.a.createElement(ge,e.props);default:return a.a.createElement(xe,e.props)}}(t))},We=(n(39),n(40),n(41),function(e){var t=e.color,n=e.name,r=e.className,c=e.onClick;return a.a.createElement("div",{className:"raw-material ".concat(r||""),onClick:c},a.a.createElement("div",{style:{backgroundColor:t},className:"raw-material-item raw-material-color"}),a.a.createElement("span",{className:"raw-material-item raw_material-name"},n))}),ze=Object(Oe.b)(function(e){return{starterPosition:e.rawMaterialSelector.selected}},function(e){return{rawMaterialSelected:function(t,n){return e(function(e,t){return function(n){n({type:"TOGGLE_RAW_MATERIAL_POPUP"}),n(function(e,t){return{type:"MATERIAL_FOR_STARTER",position:e,material:t}}(e,t))}}(t,function(e){switch(e){case"SILVER":return{type:"SILVER",state:"SOLID",price:40};case"CARBON":return{type:"CARBON",state:"SOLID",price:10};case"COBBER":return{type:"COBBER",state:"SOLID",price:30};case"IRON":return{type:"IRON",state:"SOLID",price:20};case"GOLD":return{type:"GOLD",state:"SOLID",price:50};default:return{type:"CARBON",state:"SOLID",price:10}}}(n)))}}})(function(e){var t=e.starterPosition,n=e.rawMaterialSelected;return a.a.createElement("div",{className:"raw-material-selector"},a.a.createElement(We,{className:"raw-material-selector-item",color:"yellow",name:"Oro",onClick:function(){return n(t,"GOLD")}}),a.a.createElement(We,{className:"raw-material-selector-item",color:"orange",name:"Cobre",onClick:function(){return n(t,"COBBER")}}),a.a.createElement(We,{className:"raw-material-selector-item",color:"silver",name:"Aluminio",onClick:function(){return n(t,"SILVER")}}),a.a.createElement(We,{className:"raw-material-selector-item",color:"black",name:"Carbon",onClick:function(){return n(t,"CARBON")}}),a.a.createElement(We,{className:"raw-material-selector-item",color:"darkgrey",name:"Hierro",onClick:function(){return n(t,"IRON")}}))}),Be=function(e){var t=e.visible,n=e.children;return t?n:a.a.createElement("div",null)},Ve=(n(42),Object(Oe.b)(function(e){return e.rawMaterialPopUp},void 0)(function(e){var t=e.visible;return a.a.createElement(Be,{visible:t},a.a.createElement("div",{className:"raw-material-popup"},a.a.createElement("div",{className:"raw-material-popup-container"},a.a.createElement(ze,null))))})),Ye=Object(Oe.b)(function(e){return{factory:e.factory}},function(e){return{tick:function(){return e(Q())}}})(function(e){var t=e.factory;(0,e.tick)();t.name,t.id,t.rows,t.columns,t.totalSells,t.actionSelected,t.timer;var n=Object(s.a)(t,["name","id","rows","columns","totalSells","actionSelected","timer"]);return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:"factory"},a.a.createElement("table",null,a.a.createElement("tbody",null,Object.keys(n).map(function(e){return a.a.createElement("tr",{key:e},Object.keys(n[e]).map(function(t){return a.a.createElement("td",{key:t},a.a.createElement(Ue,{className:"factory_item"},a.a.createElement(Ge,{machine:n[e][t]})))}))}).flat(1)))),a.a.createElement(Ve,null))}),Je=(n(43),Object(Oe.b)(function(e){return{user:e.signIn.enteredUser}},function(e){return{userChange:function(t){return e({type:"ENTERED_USER_CHANGE",enteredUser:t.target.value})},signIn:function(){return e(function(e,t){var n=t().signIn.enteredUser;fetch("http://localhost:3000/api/sign_in",{method:"POST",body:JSON.stringify({user:n}),headers:{"Content-Type":"application/json"}}).then(function(t){return e(me())}).then(function(e){return fetch("http://localhost:3000/api/factories?user=".concat(n))}).then(function(e){return e.json()}).then(function(t){return e(function(e){return{type:"SET_FACTORIES",factories:e}}(t))})})}}})(function(e){var t=e.userChange,n=e.signIn,r=e.user;return a.a.createElement("div",{className:"sign_in_container"},a.a.createElement("div",{className:"sign_in_form"},a.a.createElement("h1",null,"Sign In! "),a.a.createElement("input",{className:"sign_in_form_input",type:"text",value:r,onChange:function(e){return t(e)}}),a.a.createElement("button",{className:"sign_in_form_button",onClick:function(){return n()}},"Sign In")))})),Ke=(n(44),n(45),function(e){var t=e.name,n=e.onClick;return a.a.createElement("div",{className:"factory_selector_item"},a.a.createElement("span",{className:"factory_selector_item_name"},t),a.a.createElement("button",{className:"factory_selector_item_button",onClick:n},"=>"))}),Xe=Object(Oe.b)(function(e){return{userName:e.signIn.user,newFactoryName:e.factorySelector.newFactoryName,newFactorySize:e.factorySelector.newFactorySize,factories:e.factorySelector.factories}},function(e){return{newFactoryChangeName:function(t){return e({type:"FACTORY_NAME_CHANGED",factoryName:t.target.value})},newFactorySizeChange:function(t){return e((n=t.target.value,{type:"FACTORY_SIZE_CHANGE",factorySize:parseInt(n,10)}));var n},createFactory:function(){return e(function(e,t){fetch("http://localhost:3000/api/new_factory",{method:"POST",body:JSON.stringify({name:t().factorySelector.newFactoryName,size:t().factorySelector.newFactorySize,board:T(t().factorySelector.newFactorySize),user:t().signIn.user}),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){e(q(t))})})},selectFactory:function(t){return e(function(e){return function(t,n){var r=n().factorySelector.factories.find(function(t){return t._id===e});t(q(r))}}(t))}}})(function(e){var t=e.userName,n=e.newFactoryName,r=e.newFactorySize,c=e.newFactoryChangeName,i=e.newFactorySizeChange,o=e.createFactory,u=e.factories,l=e.selectFactory;return a.a.createElement("div",{className:"factory_selector_container"},a.a.createElement("div",{className:"factory_selector_form"},a.a.createElement("h1",null,"Whale cum ",t,"! "),a.a.createElement("br",null),a.a.createElement("input",{className:"factory_selector_form_input",placeholder:"Factory Name",type:"text",value:n,onChange:function(e){return c(e)}}),a.a.createElement("input",{className:"factory_selector_form_input",placeholder:"Factory Size",type:"number",value:r,onChange:function(e){return i(e)}}),a.a.createElement("button",{className:"factory_selector_form_button",onClick:function(){return o()}},"Create Factory"),u.map(function(e,t){return a.a.createElement(Ke,{key:t,name:e.name,onClick:function(){return l(e._id)}})})))}),Ze=Object(Oe.b)(function(e){return{user:e.signIn.user,factoryName:e.factory.name}},void 0)(function(e){var t=e.user,n=e.factoryName;return"__NONE_USER__"===t?a.a.createElement(Je,null):void 0===n?a.a.createElement(Xe,null):a.a.createElement(r.Fragment,null,a.a.createElement(Te,null),a.a.createElement(Pe,null),a.a.createElement(Ye,null))}),$e=function(){return a.a.createElement(Oe.a,{store:ye},a.a.createElement("div",{className:"App"},a.a.createElement(Ze,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement($e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[17,1,2]]]);
//# sourceMappingURL=main.f7d5d999.chunk.js.map